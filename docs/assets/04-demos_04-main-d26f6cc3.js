import{I,J as V,q as J,V as z,u as $,K,U as Z,X as Q,Y as X,Z as Y,f as _,a as T,S as ee,P as te,B as ne,M as oe,t as ie,h as re,g as se,A as ae,W as ce}from"./three.module-fa993664.js";import{G as de}from"./dat.gui.module-798d8523.js";import{B as le}from"./index-969f7968.js";/* empty css              */const b=new I,g=new V,C=new J,E=new z,G=new z,S=new z,A=new K;class he extends ${constructor(n,e,t){super(),t.style.touchAction="none";let o=null,i=null;const r=[],s=this;function l(){t.addEventListener("pointermove",M),t.addEventListener("pointerdown",L),t.addEventListener("pointerup",c),t.addEventListener("pointerleave",c)}function h(){t.removeEventListener("pointermove",M),t.removeEventListener("pointerdown",L),t.removeEventListener("pointerup",c),t.removeEventListener("pointerleave",c),t.style.cursor=""}function p(){h()}function f(){return n}function v(){return g}function M(w){if(s.enabled!==!1){if(d(w),g.setFromCamera(C,e),o){g.ray.intersectPlane(b,G)&&o.position.copy(G.sub(E).applyMatrix4(A)),s.dispatchEvent({type:"drag",object:o});return}if(w.pointerType==="mouse"||w.pointerType==="pen")if(r.length=0,g.setFromCamera(C,e),g.intersectObjects(n,!0,r),r.length>0){const u=r[0].object;b.setFromNormalAndCoplanarPoint(e.getWorldDirection(b.normal),S.setFromMatrixPosition(u.matrixWorld)),i!==u&&i!==null&&(s.dispatchEvent({type:"hoveroff",object:i}),t.style.cursor="auto",i=null),i!==u&&(s.dispatchEvent({type:"hoveron",object:u}),t.style.cursor="pointer",i=u)}else i!==null&&(s.dispatchEvent({type:"hoveroff",object:i}),t.style.cursor="auto",i=null)}}function L(w){s.enabled!==!1&&(d(w),r.length=0,g.setFromCamera(C,e),g.intersectObjects(n,!0,r),r.length>0&&(o=s.transformGroup===!0?n[0]:r[0].object,b.setFromNormalAndCoplanarPoint(e.getWorldDirection(b.normal),S.setFromMatrixPosition(o.matrixWorld)),g.ray.intersectPlane(b,G)&&(A.copy(o.parent.matrixWorld).invert(),E.copy(G).sub(S.setFromMatrixPosition(o.matrixWorld))),t.style.cursor="move",s.dispatchEvent({type:"dragstart",object:o})))}function c(){s.enabled!==!1&&(o&&(s.dispatchEvent({type:"dragend",object:o}),o=null),t.style.cursor=i?"pointer":"auto")}function d(w){const u=t.getBoundingClientRect();C.x=(w.clientX-u.left)/u.width*2-1,C.y=-(w.clientY-u.top)/u.height*2+1}l(),this.enabled=!0,this.transformGroup=!1,this.activate=l,this.deactivate=h,this.dispose=p,this.getObjects=f,this.getRaycaster=v}}class pe extends Z{constructor(n){super(n)}load(n,e,t,o){const i=this,r=new Q(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(n,function(s){const l=i.parse(JSON.parse(s));e&&e(l)},t,o)}parse(n){return new ue(n)}}class ue{constructor(n){this.isFont=!0,this.type="Font",this.data=n}generateShapes(n,e=100){const t=[],o=we(n,e,this.data);for(let i=0,r=o.length;i<r;i++)t.push(...o[i].toShapes());return t}}function we(a,n,e){const t=Array.from(a),o=n/e.resolution,i=(e.boundingBox.yMax-e.boundingBox.yMin+e.underlineThickness)*o,r=[];let s=0,l=0;for(let h=0;h<t.length;h++){const p=t[h];if(p===`
`)s=0,l-=i;else{const f=fe(p,o,s,l,e);s+=f.offsetX,r.push(f.path)}}return r}function fe(a,n,e,t,o){const i=o.glyphs[a]||o.glyphs["?"];if(!i){console.error('THREE.Font: character "'+a+'" does not exists in font family '+o.familyName+".");return}const r=new X;let s,l,h,p,f,v,M,L;if(i.o){const c=i._cachedOutline||(i._cachedOutline=i.o.split(" "));for(let d=0,w=c.length;d<w;)switch(c[d++]){case"m":s=c[d++]*n+e,l=c[d++]*n+t,r.moveTo(s,l);break;case"l":s=c[d++]*n+e,l=c[d++]*n+t,r.lineTo(s,l);break;case"q":h=c[d++]*n+e,p=c[d++]*n+t,f=c[d++]*n+e,v=c[d++]*n+t,r.quadraticCurveTo(f,v,h,p);break;case"b":h=c[d++]*n+e,p=c[d++]*n+t,f=c[d++]*n+e,v=c[d++]*n+t,M=c[d++]*n+e,L=c[d++]*n+t,r.bezierCurveTo(f,v,M,L,h,p);break}}return{offsetX:i.ha*n,path:r}}class ye extends Y{constructor(n,e={}){const t=e.font;if(t===void 0)super();else{const o=t.generateShapes(n,e.size);e.depth=e.height!==void 0?e.height:50,e.bevelThickness===void 0&&(e.bevelThickness=10),e.bevelSize===void 0&&(e.bevelSize=8),e.bevelEnabled===void 0&&(e.bevelEnabled=!1),super(o,e)}this.type="TextGeometry"}}function H(a){const{fontUrl:n,text:e,textGeometryParameter:t,textMaterialParameter:o}=a;return new Promise((i,r)=>{new pe().load(n||`${le}images/textures/fonts/gentilis_regular.typeface.json`,s=>{const l=new ye(e,{...t,font:s});l.center();const h=new _(o),p=new T(l,h);i(p)},()=>{console.log("Loading TextFont...")},s=>r(s))})}const W=new de,P=new ee,m=new te(75,window.innerWidth/window.innerHeight,.1,1e4);m.position.set(3,2,5);m.lookAt(new z);const k=new ne(1,1,1),B=new oe({color:65280}),D=new T(k,B),y=new T(k,B);P.add(y);y.position.set(3,0,0);const j={x:y.position.x,y:y.position.y,z:y.position.z};W.add(j,"x",0,10,.1).name("x").onChange(a=>{y.position.x=a});W.add(j,"y",0,10,.1).name("y").onChange(a=>{y.position.y=a});W.add(j,"z",0,10,.1).name("z").onChange(a=>{y.position.z=a});const F=new ie;F.add(D);D.position.set(0,0,0);P.add(F);H({text:"Drag",textGeometryParameter:{size:.25,height:.1},textMaterialParameter:{color:16777215}}).then(a=>{a.position.set(0,0,.5),F.add(a)});H({text:"USE GUI",textGeometryParameter:{size:.15,height:.1},textMaterialParameter:{color:16777215}}).then(a=>{a.position.set(0,0,.5),y.add(a)});const O=new re(16777215);O.position.set(0,0,100).normalize();P.add(O);const q=new se(16777215,.5);q.position.set(0,0,100).normalize();P.add(q);const ge=new ae(5);P.add(ge);const x=new ce;x.setSize(window.innerWidth,window.innerHeight);x.setPixelRatio(window.devicePixelRatio);document.body.appendChild(x.domElement);const U=new he([F],m,x.domElement);U.transformGroup=!0;U.addEventListener("drag",R);function R(){x.render(P,m)}window.addEventListener("resize",()=>{m.aspect=window.innerWidth/window.innerHeight,m.updateProjectionMatrix(),x.setSize(window.innerWidth,window.innerHeight),x.setPixelRatio(window.devicePixelRatio),R()});function N(){R(),requestAnimationFrame(N)}N();
