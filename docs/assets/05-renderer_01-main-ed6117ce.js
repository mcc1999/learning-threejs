import"./modulepreload-polyfill-3cfb730f.js";import{G as q}from"./dat.gui.module-dd30c9f2.js";import{am as T,a4 as X,V as Y,t as m,an as $,r as J,S as K,P as Q,B as Z,M as _,a as A,a1 as ee,k as te,e as ne,A as oe,W as ie}from"./three.module-5d2049df.js";import{c as D}from"./index-3eff0762.js";/* empty css              */import"./index-969f7968.js";const l=new T,d=new X,f=new Y,F=new m,g=new m,P=new m,R=new $;class re extends J{constructor(v,w,e){super(),e.style.touchAction="none";let n=null,o=null;const a=[],i=this;function C(){e.addEventListener("pointermove",G),e.addEventListener("pointerdown",W),e.addEventListener("pointerup",y),e.addEventListener("pointerleave",y)}function z(){e.removeEventListener("pointermove",G),e.removeEventListener("pointerdown",W),e.removeEventListener("pointerup",y),e.removeEventListener("pointerleave",y),e.style.cursor=""}function k(){z()}function I(){return v}function N(){return d}function G(c){if(i.enabled!==!1){if(j(c),d.setFromCamera(f,w),n){d.ray.intersectPlane(l,g)&&n.position.copy(g.sub(F).applyMatrix4(R)),i.dispatchEvent({type:"drag",object:n});return}if(c.pointerType==="mouse"||c.pointerType==="pen")if(a.length=0,d.setFromCamera(f,w),d.intersectObjects(v,!0,a),a.length>0){const r=a[0].object;l.setFromNormalAndCoplanarPoint(w.getWorldDirection(l.normal),P.setFromMatrixPosition(r.matrixWorld)),o!==r&&o!==null&&(i.dispatchEvent({type:"hoveroff",object:o}),e.style.cursor="auto",o=null),o!==r&&(i.dispatchEvent({type:"hoveron",object:r}),e.style.cursor="pointer",o=r)}else o!==null&&(i.dispatchEvent({type:"hoveroff",object:o}),e.style.cursor="auto",o=null)}}function W(c){i.enabled!==!1&&(j(c),a.length=0,d.setFromCamera(f,w),d.intersectObjects(v,!0,a),a.length>0&&(n=i.transformGroup===!0?v[0]:a[0].object,l.setFromNormalAndCoplanarPoint(w.getWorldDirection(l.normal),P.setFromMatrixPosition(n.matrixWorld)),d.ray.intersectPlane(l,g)&&(R.copy(n.parent.matrixWorld).invert(),F.copy(g).sub(P.setFromMatrixPosition(n.matrixWorld))),e.style.cursor="move",i.dispatchEvent({type:"dragstart",object:n})))}function y(){i.enabled!==!1&&(n&&(i.dispatchEvent({type:"dragend",object:n}),n=null),e.style.cursor=o?"pointer":"auto")}function j(c){const r=e.getBoundingClientRect();f.x=(c.clientX-r.left)/r.width*2-1,f.y=-(c.clientY-r.top)/r.height*2+1}C(),this.enabled=!0,this.transformGroup=!1,this.activate=C,this.deactivate=z,this.dispose=k,this.getObjects=I,this.getRaycaster=N}}const b=new q,h=new K,u=new Q(75,window.innerWidth/window.innerHeight,.1,1e4);u.position.set(3,2,5);u.lookAt(new m);const H=new Z(1,1,1),E=new _({color:65280}),S=new A(H,E),s=new A(H,E);h.add(s);s.position.set(3,0,0);const L={x:s.position.x,y:s.position.y,z:s.position.z};b.add(L,"x",0,10,.1).name("x").onChange(t=>{s.position.x=t});b.add(L,"y",0,10,.1).name("y").onChange(t=>{s.position.y=t});b.add(L,"z",0,10,.1).name("z").onChange(t=>{s.position.z=t});const x=new ee;x.add(S);S.position.set(0,0,0);h.add(x);D({text:"Drag",textGeometryParameter:{size:.25,height:.1},textMaterialParameter:{color:16777215}}).then(t=>{t.position.set(0,0,.5),x.add(t)});D({text:"USE GUI",textGeometryParameter:{size:.15,height:.1},textMaterialParameter:{color:16777215}}).then(t=>{t.position.set(0,0,.5),s.add(t)});const B=new te(16777215);B.position.set(0,0,100).normalize();h.add(B);const O=new ne(16777215,.5);O.position.set(0,0,100).normalize();h.add(O);const se=new oe(5);h.add(se);const p=new ie;p.setSize(window.innerWidth,window.innerHeight);p.setPixelRatio(window.devicePixelRatio);document.body.appendChild(p.domElement);const U=new re([x],u,p.domElement);U.transformGroup=!0;U.addEventListener("drag",M);function M(){p.render(h,u)}window.addEventListener("resize",()=>{u.aspect=window.innerWidth/window.innerHeight,u.updateProjectionMatrix(),p.setSize(window.innerWidth,window.innerHeight),p.setPixelRatio(window.devicePixelRatio),M()});function V(){M(),requestAnimationFrame(V)}V();
